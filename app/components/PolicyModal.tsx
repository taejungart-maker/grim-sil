"use client";

import { useState, useEffect } from "react";
import { supabase } from "../utils/supabase";

interface PolicyModalProps {
    isOpen: boolean;
    onClose: () => void;
    policyId: "terms" | "privacy" | "refund";
    theme?: "white" | "black";
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ğŸ“„ ì •ì±… ì „ë¬¸ ë°ì´í„° (í•˜ë“œì½”ë”©)
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const POLICY_DATA = {
    terms: {
        title: "ì´ìš©ì•½ê´€",
        content: `ì œ1ì¡° (ëª©ì )
ë³¸ ì•½ê´€ì€ ì˜¤ìš©íƒ(ì´í•˜ "íšŒì‚¬")ê°€ ìš´ì˜í•˜ëŠ” "ê·¸ë¦¼ì‹¤" ì˜¨ë¼ì¸ ê°¤ëŸ¬ë¦¬(ì´í•˜ "ì‚¬ì´íŠ¸")ì—ì„œ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤(ì´í•˜ "ì„œë¹„ìŠ¤")ë¥¼ ì´ìš©í•¨ì— ìˆì–´ "ì‚¬ì´íŠ¸"ì™€ ì´ìš©ìì˜ ê¶Œë¦¬, ì˜ë¬´ ë° ì±…ì„ì‚¬í•­ì„ ê·œì •í•¨ì„ ëª©ì ìœ¼ë¡œ í•©ë‹ˆë‹¤.

ì œ2ì¡° (ìš©ì–´ì˜ ì •ì˜)
1. "ì‚¬ì´íŠ¸"ë€ íšŒì‚¬ê°€ ì¬í™” ë˜ëŠ” ìš©ì—­ì„ ì´ìš©ìì—ê²Œ ì œê³µí•˜ê¸° ìœ„í•˜ì—¬ ì»´í“¨í„° ë“± ì •ë³´í†µì‹ ì„¤ë¹„ë¥¼ ì´ìš©í•˜ì—¬ ì¬í™” ë“±ì„ ê±°ë˜í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•œ ê°€ìƒì˜ ì˜ì—…ì¥ì„ ë§í•©ë‹ˆë‹¤.
2. "ì´ìš©ì"ë€ "ì‚¬ì´íŠ¸"ì— ì ‘ì†í•˜ì—¬ ì´ ì•½ê´€ì— ë”°ë¼ "ì‚¬ì´íŠ¸"ê°€ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ë°›ëŠ” íšŒì› ë° ë¹„íšŒì›ì„ ë§í•©ë‹ˆë‹¤.
3. "íšŒì›"ì´ë¼ í•¨ì€ "ì‚¬ì´íŠ¸"ì— ê°œì¸ì •ë³´ë¥¼ ì œê³µí•˜ì—¬ íšŒì›ë“±ë¡ì„ í•œ ìë¡œì„œ, "ì‚¬ì´íŠ¸"ì˜ ì •ë³´ë¥¼ ì§€ì†ì ìœ¼ë¡œ ì œê³µë°›ìœ¼ë©° "ì‚¬ì´íŠ¸"ê°€ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ê³„ì†ì ìœ¼ë¡œ ì´ìš©í•  ìˆ˜ ìˆëŠ” ìë¥¼ ë§í•©ë‹ˆë‹¤.

ì œ3ì¡° (ì•½ê´€ì˜ ëª…ì‹œì™€ ê°œì •)
1. "ì‚¬ì´íŠ¸"ëŠ” ì´ ì•½ê´€ì˜ ë‚´ìš©ê³¼ ìƒí˜¸ ë° ëŒ€í‘œì ì„±ëª…, ì˜ì—…ì†Œ ì†Œì¬ì§€ ì£¼ì†Œ, ì „í™”ë²ˆí˜¸, ì „ììš°í¸ì£¼ì†Œ, ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸, í†µì‹ íŒë§¤ì—…ì‹ ê³ ë²ˆí˜¸ ë“±ì„ ì´ìš©ìê°€ ì‰½ê²Œ ì•Œ ìˆ˜ ìˆë„ë¡ ì´ˆê¸° ì„œë¹„ìŠ¤í™”ë©´ì— ê²Œì‹œí•©ë‹ˆë‹¤.
2. "ì‚¬ì´íŠ¸"ëŠ” ì•½ê´€ì˜ ê·œì œì— ê´€í•œ ë²•ë¥  ë“± ê´€ë ¨ë²•ì„ ìœ„ë°°í•˜ì§€ ì•ŠëŠ” ë²”ìœ„ì—ì„œ ì´ ì•½ê´€ì„ ê°œì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
3. "ì‚¬ì´íŠ¸"ê°€ ì•½ê´€ì„ ê°œì •í•  ê²½ìš°ì—ëŠ” ì ìš©ì¼ì ë° ê°œì •ì‚¬ìœ ë¥¼ ëª…ì‹œí•˜ì—¬ í˜„í–‰ì•½ê´€ê³¼ í•¨ê»˜ ì‚¬ì´íŠ¸ì˜ ì´ˆê¸°í™”ë©´ì— ê·¸ ì ìš©ì¼ì 7ì¼ ì´ì „ë¶€í„° ì ìš©ì¼ì ì „ì¼ê¹Œì§€ ê³µì§€í•©ë‹ˆë‹¤.

ì œ4ì¡° (ì„œë¹„ìŠ¤ì˜ ì œê³µ ë° ë³€ê²½)
1. "ì‚¬ì´íŠ¸"ëŠ” ë‹¤ìŒì˜ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.
   ê°€. ë””ì§€í„¸ ì½˜í…ì¸ (ì‘í’ˆ ì „ì‹œ)ì— ëŒ€í•œ ì •ë³´ ì œê³µ ë° êµ¬ë§¤ê³„ì•½ì˜ ì²´ê²°
   ë‚˜. êµ¬ë§¤ê³„ì•½ì´ ì²´ê²°ëœ ì„œë¹„ìŠ¤ì˜ ì œê³µ
   ë‹¤. ê¸°íƒ€ "ì‚¬ì´íŠ¸"ê°€ ì •í•˜ëŠ” ì—…ë¬´
2. "ì‚¬ì´íŠ¸"ëŠ” ê¸°ìˆ ì  ì‚¬ì–‘ì˜ ë³€ê²½ ë“±ì˜ ê²½ìš°ì—ëŠ” ì¥ì°¨ ì²´ê²°ë˜ëŠ” ê³„ì•½ì— ì˜í•´ ì œê³µí•  ì„œë¹„ìŠ¤ì˜ ë‚´ìš©ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì œ5ì¡° (ì„œë¹„ìŠ¤ì˜ ì¤‘ë‹¨)
1. "ì‚¬ì´íŠ¸"ëŠ” ì»´í“¨í„° ë“± ì •ë³´í†µì‹ ì„¤ë¹„ì˜ ë³´ìˆ˜ì ê²€, êµì²´ ë° ê³ ì¥, í†µì‹ ì˜ ë‘ì ˆ ë“±ì˜ ì‚¬ìœ ê°€ ë°œìƒí•œ ê²½ìš°ì—ëŠ” ì„œë¹„ìŠ¤ì˜ ì œê³µì„ ì¼ì‹œì ìœ¼ë¡œ ì¤‘ë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì œ6ì¡° (êµ¬ë§¤ì‹ ì²­ ë° ê²°ì œ)
1. ì´ìš©ìëŠ” "ì‚¬ì´íŠ¸"ìƒì—ì„œ ë‹¤ìŒ ë˜ëŠ” ì´ì™€ ìœ ì‚¬í•œ ë°©ë²•ì— ì˜í•˜ì—¬ êµ¬ë§¤ë¥¼ ì‹ ì²­í•˜ë©°, "ì‚¬ì´íŠ¸"ëŠ” ì´ìš©ìê°€ êµ¬ë§¤ì‹ ì²­ì„ í•¨ì— ìˆì–´ì„œ ë‹¤ìŒì˜ ê° ë‚´ìš©ì„ ì•Œê¸° ì‰½ê²Œ ì œê³µí•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.
   ê°€. ì¬í™” ë“±ì˜ ê²€ìƒ‰ ë° ì„ íƒ
   ë‚˜. ì„±ëª…, ì „í™”ë²ˆí˜¸, ì „ììš°í¸ì£¼ì†Œ ë“±ì˜ ì…ë ¥
   ë‹¤. ì•½ê´€ë‚´ìš©, ì²­ì•½ì² íšŒê¶Œì´ ì œí•œë˜ëŠ” ì„œë¹„ìŠ¤, ë¹„ìš©ë¶€ë‹´ê³¼ ê´€ë ¨í•œ ë‚´ìš©ì— ëŒ€í•œ í™•ì¸
   ë¼. ì´ ì•½ê´€ì— ë™ì˜í•˜ê³  ìœ„ ë‹¤.í•­ì˜ ì‚¬í•­ì„ í™•ì¸í•˜ê±°ë‚˜ ê±°ë¶€í•˜ëŠ” í‘œì‹œ (ì˜ˆ, ë§ˆìš°ìŠ¤ í´ë¦­)
2. ê²°ì œ ë°©ë²•ì€ "ì‚¬ì´íŠ¸"ì—ì„œ ì œê³µí•˜ëŠ” ê²°ì œìˆ˜ë‹¨(ì‹ ìš©ì¹´ë“œ, ê³„ì¢Œì´ì²´, ì¹´ì¹´ì˜¤í˜ì´, í† ìŠ¤í˜ì´ ë“±) ì¤‘ ê°€ìš©í•œ ë°©ë²•ìœ¼ë¡œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì œ7ì¡° (ê³„ì•½ì˜ ì„±ë¦½)
1. "ì‚¬ì´íŠ¸"ëŠ” êµ¬ë§¤ì‹ ì²­ì— ëŒ€í•˜ì—¬ ìŠ¹ë‚™í•œ ì‹œì ì— ê³„ì•½ì´ ì„±ë¦½í•œ ê²ƒìœ¼ë¡œ ë´…ë‹ˆë‹¤.
2. "ì‚¬ì´íŠ¸"ëŠ” êµ¬ë§¤ì‹ ì²­ì´ í—ˆìœ„, ê¸°ì¬ëˆ„ë½, ì˜¤ê¸°ê°€ ìˆëŠ” ê²½ìš° ìŠ¹ë‚™í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì œ8ì¡° (ì²­ì•½ì² íšŒ ë° í™˜ë¶ˆ)
1. "ê·¸ë¦¼ì‹¤"ì˜ ì„œë¹„ìŠ¤ëŠ” ã€Œì „ììƒê±°ë˜ ë“±ì—ì„œì˜ ì†Œë¹„ìë³´í˜¸ì— ê´€í•œ ë²•ë¥ ã€ì— ë”°ë¥¸ ë””ì§€í„¸ ì½˜í…ì¸  ì„œë¹„ìŠ¤ë¡œ, ì´ìš©ìê°€ ê²°ì œ í›„ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©(ì‘í’ˆ ì—´ëŒ ë“±)í•œ ê²½ìš°ì—ëŠ” ì²­ì•½ì² íšŒê°€ ì œí•œë©ë‹ˆë‹¤.
2. ì´ìš©ìëŠ” êµ¬ë§¤ í›„ 7ì¼ ì´ë‚´ì´ë©° ì„œë¹„ìŠ¤ë¥¼ ì „í˜€ ì´ìš©í•˜ì§€ ì•Šì€ ê²½ìš°ì— í•œí•˜ì—¬ ì²­ì•½ì² íšŒë¥¼ ìš”ì²­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
3. í™˜ë¶ˆì€ ì´ìš©ìì˜ ì‹ ì²­ í›„ ì˜ì—…ì¼ ê¸°ì¤€ 3~5ì¼ ì´ë‚´ì— ì²˜ë¦¬ë©ë‹ˆë‹¤.

ì œ9ì¡° (ë¶„ìŸí•´ê²°)
1. "ì‚¬ì´íŠ¸"ëŠ” ì´ìš©ìê°€ ì œê¸°í•˜ëŠ” ì •ë‹¹í•œ ì˜ê²¬ì´ë‚˜ ë¶ˆë§Œì„ ë°˜ì˜í•˜ê³  ê·¸ í”¼í•´ë¥¼ ë³´ìƒì²˜ë¦¬í•˜ê¸° ìœ„í•˜ì—¬ í”¼í•´ë³´ìƒì²˜ë¦¬ê¸°êµ¬ë¥¼ ì„¤ì¹˜Â·ìš´ì˜í•©ë‹ˆë‹¤.
2. "ì‚¬ì´íŠ¸"ì™€ ì´ìš©ì ê°„ì— ë°œìƒí•œ ì „ììƒê±°ë˜ ë¶„ìŸê³¼ ê´€ë ¨í•˜ì—¬ ì´ìš©ìì˜ í”¼í•´êµ¬ì œì‹ ì²­ì´ ìˆëŠ” ê²½ìš°ì—ëŠ” ê³µì •ê±°ë˜ìœ„ì›íšŒ ë˜ëŠ” ì‹œÂ·ë„ì§€ì‚¬ê°€ ì˜ë¢°í•˜ëŠ” ë¶„ìŸì¡°ì •ê¸°ê´€ì˜ ì¡°ì •ì— ë”°ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë¶€ì¹™
ë³¸ ì•½ê´€ì€ 2024ë…„ 12ì›” 31ì¼ë¶€í„° ì‹œí–‰ë©ë‹ˆë‹¤.`
    },
    privacy: {
        title: "ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨",
        content: `ì œ1ì¡° (ê°œì¸ì •ë³´ì˜ ì²˜ë¦¬ ëª©ì )
ì˜¤ìš©íƒ(ì´í•˜ "íšŒì‚¬")ì€ ë‹¤ìŒì˜ ëª©ì ì„ ìœ„í•˜ì—¬ ê°œì¸ì •ë³´ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.
1. í™ˆí˜ì´ì§€ íšŒì› ê°€ì… ë° ê´€ë¦¬
2. ì¬í™” ë˜ëŠ” ì„œë¹„ìŠ¤ ì œê³µ (ì½˜í…ì¸  ì œê³µ, ìš”ê¸ˆ ê²°ì œ ë“±)
3. ê³ ê° ì„œë¹„ìŠ¤ ë° ê³ ì¶© ì²˜ë¦¬

ì œ2ì¡° (ê°œì¸ì •ë³´ì˜ ì²˜ë¦¬ ë° ë³´ìœ  ê¸°ê°„)
1. íšŒì‚¬ëŠ” ë²•ë ¹ì— ë”°ë¥¸ ê°œì¸ì •ë³´ ë³´ìœ Â·ì´ìš©ê¸°ê°„ ë˜ëŠ” ì´ìš©ìë¡œë¶€í„° ê°œì¸ì •ë³´ë¥¼ ìˆ˜ì§‘ ì‹œì— ë™ì˜ë°›ì€ ê°œì¸ì •ë³´ ë³´ìœ Â·ì´ìš©ê¸°ê°„ ë‚´ì—ì„œ ê°œì¸ì •ë³´ë¥¼ ì²˜ë¦¬Â·ë³´ìœ í•©ë‹ˆë‹¤.
2. ê°ê°ì˜ ê°œì¸ì •ë³´ ì²˜ë¦¬ ë° ë³´ìœ  ê¸°ê°„ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
   ê°€. ê³„ì•½ ë° ì²­ì•½ì² íšŒ ë“±ì— ê´€í•œ ê¸°ë¡: 5ë…„
   ë‚˜. ëŒ€ê¸ˆê²°ì œ ë° ì¬í™” ë“±ì˜ ê³µê¸‰ì— ê´€í•œ ê¸°ë¡: 5ë…„
   ë‹¤. ì†Œë¹„ìì˜ ë¶ˆë§Œ ë˜ëŠ” ë¶„ìŸì²˜ë¦¬ì— ê´€í•œ ê¸°ë¡: 3ë…„

ì œ3ì¡° (ìˆ˜ì§‘í•˜ëŠ” ê°œì¸ì •ë³´ í•­ëª©)
1. íšŒì‚¬ëŠ” ë‹¤ìŒì˜ ê°œì¸ì •ë³´ í•­ëª©ì„ ìˆ˜ì§‘í•˜ê³  ìˆìŠµë‹ˆë‹¤.
   ê°€. í•„ìˆ˜í•­ëª©: ì´ë¦„, ì—°ë½ì²˜, ì´ë©”ì¼ ì£¼ì†Œ, ê²°ì œ ì •ë³´
   ë‚˜. ìë™ìˆ˜ì§‘í•­ëª©: IP ì£¼ì†Œ, ì¿ í‚¤, ì„œë¹„ìŠ¤ ì´ìš© ê¸°ë¡, ê¸°ê¸° ì •ë³´

ì œ4ì¡° (ê°œì¸ì •ë³´ ë³´í˜¸ì±…ì„ì)
ì„±ëª…: ì˜¤ìš©íƒ
ì—°ë½ì²˜: 010-8618-3323
ì´ë©”ì¼: artflow010@gmail.com

ë¶€ì¹™
ë³¸ ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ì€ 2024ë…„ 12ì›” 31ì¼ë¶€í„° ì‹œí–‰ë©ë‹ˆë‹¤.`
    },
    refund: {
        title: "í™˜ë¶ˆ ë° êµí™˜ ì •ì±…",
        content: `ğŸš¨ **[í•„ë…] ë””ì§€í„¸ ì½˜í…ì¸  ì´ìš© ë° í™˜ë¶ˆ ì •ì±…**

ì˜¤ìš©íƒ(ê·¸ë¦¼ì‹¤)ì—ì„œ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ëŠ” ë””ì§€í„¸ ì½˜í…ì¸  íŠ¹ì„±ìƒ ë‹¤ìŒê³¼ ê°™ì€ í™˜ë¶ˆ ì •ì±…ì„ ì ìš©í•©ë‹ˆë‹¤.

**ì œ1ì¡° (í™˜ë¶ˆ ë¶ˆê°€ì˜ ì›ì¹™)**
1. ë³¸ ì‚¬ì´íŠ¸ì—ì„œ ì œê³µí•˜ëŠ” ì‘í’ˆ ì „ì‹œ ë° í™”ì²© ì„œë¹„ìŠ¤ëŠ” ã€Œì „ììƒê±°ë˜ ë“±ì—ì„œì˜ ì†Œë¹„ìë³´í˜¸ì— ê´€í•œ ë²•ë¥ ã€ ì œ17ì¡° ì œ2í•­ ì œ5í˜¸ì— ë”°ë¥¸ "ë””ì§€í„¸ ì½˜í…ì¸ "ì— í•´ë‹¹í•©ë‹ˆë‹¤.
2. **ì„œë¹„ìŠ¤ë¥¼ ê²°ì œí•œ í›„ ì½˜í…ì¸ ë¥¼ ì—´ëŒí•˜ê±°ë‚˜ ì´ìš©ì„ ê°œì‹œí•œ ê²½ìš°ì—ëŠ” ì²­ì•½ì² íšŒ(í™˜ë¶ˆ)ê°€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.**
3. ë””ì§€í„¸ ì½˜í…ì¸ ì˜ íŠ¹ì„±ìƒ ë°ì´í„°ì˜ ì—´ëŒ ì‹œ ìƒí’ˆ ê°€ì¹˜ê°€ ì¦‰ì‹œ ì†Œë¹„ëœ ê²ƒìœ¼ë¡œ ê°„ì£¼ë©ë‹ˆë‹¤.

**ì œ2ì¡° (ì²­ì•½ì² íšŒê°€ ê°€ëŠ¥í•œ ê²½ìš°)**
1. ê²°ì œ ì™„ë£Œ í›„ 7ì¼ ì´ë‚´ì´ë©°, **ì½˜í…ì¸ ë¥¼ ì „í˜€ ì—´ëŒí•˜ì§€ ì•Šì€ ê²½ìš°**ì— í•œí•˜ì—¬ ì „ì•¡ í™˜ë¶ˆì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
2. ì‹œìŠ¤í…œì˜ ì¤‘ëŒ€í•œ ì˜¤ë¥˜ë¡œ ì¸í•´ ì„œë¹„ìŠ¤ë¥¼ ì •ìƒì ìœ¼ë¡œ ì´ìš©í•  ìˆ˜ ì—†ëŠ” ìƒíƒœê°€ ì§€ì†ë˜ì–´ íšŒì‚¬ ì¸¡ì˜ ê³¼ì‹¤ì´ ì¸ì •ë˜ëŠ” ê²½ìš° í™˜ë¶ˆ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

**ì œ3ì¡° (í™˜ë¶ˆ ì‹ ì²­ ë°©ë²•)**
1. í™˜ë¶ˆì´ ê°€ëŠ¥í•œ ì¡°ê±´ì— í•´ë‹¹í•˜ëŠ” ê²½ìš°, ì´ë©”ì¼(artflow010@gmail.com) ë˜ëŠ” ê³ ê°ì„¼í„°(010-8618-3323)ë¥¼ í†µí•´ ì‹ ì²­í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.
2. ì‹ ì²­ ì‹œ ì„±í•¨, ê²°ì œ ì¼ì, í™˜ë¶ˆ ì‚¬ìœ ë¥¼ ê¸°ì¬í•´ ì£¼ì‹­ì‹œì˜¤.

ë¶€ì¹™
ë³¸ ì •ì±…ì€ 2024ë…„ 12ì›” 31ì¼ë¶€í„° ì‹œí–‰ë©ë‹ˆë‹¤.`
    }
};

export default function PolicyModal({ isOpen, onClose, policyId, theme = "white" }: PolicyModalProps) {
    const [title, setTitle] = useState("");
    const [content, setContent] = useState("");
    const [loading, setLoading] = useState(true);

    const colors = {
        bg: theme === "black" ? "#111" : "#ffffff",
        text: theme === "black" ? "#eee" : "#222",
        headerBg: theme === "black" ? "#1a1a1a" : "#f8f9fa",
        border: theme === "black" ? "#333" : "#e9ecef",
        accent: "#4f46e5"
    };

    useEffect(() => {
        if (isOpen) {
            // í•˜ë“œì½”ë”©ëœ ë°ì´í„°ë¥¼ ì¦‰ì‹œ ìš°ì„  ì‚¬ìš© (DB ì§€ì—° ë° ì¤‘ëµ ë¬¸ì œ í•´ê²°)
            const data = POLICY_DATA[policyId];
            setTitle(data.title);
            setContent(data.content);
            setLoading(false);

            // ë°±ê·¸ë¼ìš´ë“œì—ì„œë§Œ DB ë™ê¸°í™” ì‹œë„ (ì„ íƒ ì‚¬í•­, ì—¬ê¸°ì„œëŠ” ì‹ ë¢°ë„ë¥¼ ìœ„í•´ í•˜ë“œì½”ë”© ìš°ì„ )
            fetchPolicyFromDB();
        }
    }, [isOpen, policyId]);

    const fetchPolicyFromDB = async () => {
        try {
            const { data, error } = await supabase
                .from("policies")
                .select("title, content")
                .eq("id", policyId)
                .single();

            if (!error && data && !data.content.includes("ì¤‘ëµ")) {
                setTitle(data.title);
                setContent(data.content);
            }
        } catch (error) {
            console.error("DB Sync failed, using hardcoded data.");
        }
    };

    if (!isOpen) return null;

    return (
        <div className="fixed inset-0 z-[100] flex items-center justify-center p-0 md:p-4">
            {/* Backdrop */}
            <div
                className="absolute inset-0 bg-black/80 backdrop-blur-md"
                onClick={onClose}
            />

            {/* Modal */}
            <div
                className="relative w-full max-w-2xl h-full md:h-auto md:max-h-[85vh] overflow-hidden rounded-none md:rounded-2xl shadow-2xl animate-in fade-in zoom-in duration-200 flex flex-col"
                style={{ background: colors.bg, color: colors.text }}
            >
                {/* Header */}
                <div className="flex items-center justify-between px-6 py-4 border-b" style={{ borderColor: colors.border, background: colors.headerBg }}>
                    <h2 className="text-lg font-bold tracking-tight">{title}</h2>
                    <button
                        onClick={onClose}
                        className="p-2 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-full transition-colors"
                        aria-label="Close"
                    >
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5">
                            <path d="M18 6L6 18M6 6l12 12" />
                        </svg>
                    </button>
                </div>

                {/* Content Area - FIXED HEIGHT & SCROLL */}
                <div
                    className="flex-1 overflow-y-auto p-6 md:p-10 custom-scrollbar bg-white dark:bg-[#111]"
                    style={{
                        scrollBehavior: "smooth"
                    }}
                >
                    {loading ? (
                        <div className="flex flex-col items-center justify-center py-20 gap-4">
                            <div className="animate-spin h-8 w-8 border-3 border-indigo-500 border-t-transparent rounded-full" />
                            <p className="text-sm text-gray-500">ì•½ê´€ ì „ë¬¸ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</p>
                        </div>
                    ) : (
                        <div
                            className="prose prose-sm max-w-none"
                            style={{
                                color: colors.text,
                                fontSize: "15px",
                                lineHeight: "1.9",
                                fontFamily: "'Noto Sans KR', 'Pretendard', sans-serif",
                                wordBreak: "keep-all"
                            }}
                        >
                            {/* ì •ì±… ë‚´ìš© ë Œë”ë§: ì œëª© ê°•ì¡° ë° ë¬¸ë‹¨ ê°„ê²© ì²˜ë¦¬ */}
                            {content.split('\n').map((line, i) => {
                                const trimLine = line.trim();

                                // 1. ì¤‘ìš” ê°•ì¡° ([ì¤‘ìš”], ğŸš¨, ** í¬í•¨ ì‹œ)
                                const isImportant = trimLine.includes('[ì¤‘ìš”]') || trimLine.includes('âš ï¸') || trimLine.includes('ğŸš¨') || trimLine.startsWith('**');

                                // 2. ì¡°í•­ ì œëª© ê°ì§€ (ì œnì¡°, n., ê°€. ë“±)
                                const isHeader = /^ì œ\s*\d+\s*ì¡°/.test(trimLine) || /^\d+\./.test(trimLine) || /^[ê°€-í£]\./.test(trimLine) || trimLine.startsWith("ë¶€ì¹™");

                                // 3. ë³¼ë“œ í…ìŠ¤íŠ¸ ìˆ˜ë™ ì²˜ë¦¬
                                const processedLine = trimLine
                                    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                                    .replace(/\[ì¤‘ìš”\]/g, '<span style="color: #ef4444; font-weight: 800;">[ì¤‘ìš”]</span>');

                                if (!trimLine && i !== 0) return <div key={i} className="h-6" />;

                                return (
                                    <div
                                        key={i}
                                        className={`
                                            mb-3
                                            ${isImportant ? 'text-blue-700 dark:text-blue-400 font-bold bg-blue-50/50 dark:bg-blue-900/10 p-2 rounded' : ''}
                                            ${line.includes('í™˜ë¶ˆ') || line.includes('ê²°ì œ') || line.includes('ì´ìš©ë£Œ') || line.includes('ì²­ì•½ì² íšŒ') ? 'font-bold' : ''}
                                            ${isHeader ? 'font-black text-[18px] mt-12 mb-6 text-gray-950 dark:text-gray-50 border-b-2 pb-2' : ''}
                                        `}
                                        style={isHeader ? { borderColor: colors.border } : {}}
                                    >
                                        <p
                                            style={{ wordBreak: "keep-all" }}
                                            dangerouslySetInnerHTML={{ __html: processedLine }}
                                        />
                                    </div>
                                );
                            })}
                        </div>
                    )}
                </div>

                <style jsx>{`
                    .custom-scrollbar::-webkit-scrollbar {
                        width: 12px;
                    }
                    .custom-scrollbar::-webkit-scrollbar-track {
                        background: ${theme === "black" ? "#0a0a0a" : "#f1f3f5"};
                    }
                    .custom-scrollbar::-webkit-scrollbar-thumb {
                        background: ${theme === "black" ? "#444" : "#adb5bd"};
                        border-radius: 6px;
                        border: 3px solid ${theme === "black" ? "#0a0a0a" : "#f1f3f5"};
                    }
                    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                        background: ${theme === "black" ? "#666" : "#868e96"};
                    }
                `}</style>

                {/* Footer */}
                <div className="p-4 border-t text-center bg-gray-50 dark:bg-gray-900" style={{ borderColor: colors.border }}>
                    <button
                        onClick={onClose}
                        className="px-12 py-3 bg-indigo-600 text-white rounded-lg font-bold hover:bg-indigo-700 transition-all shadow-lg active:scale-95"
                    >
                        ìœ„ ë‚´ìš©ì„ ëª¨ë‘ í™•ì¸í–ˆìŠµë‹ˆë‹¤
                    </button>
                </div>
            </div>
        </div>
    );
}
